const cron = require("node-cron");

module.exports.config = {
  name: "jumma",
  version: "1.0.1",
  credits: "Akash",
  description: "à¦ªà§à¦°à¦¤à¦¿ à¦¶à§à¦•à§à¦°à¦¬à¦¾à¦° à¦¸à¦•à¦² à¦—à§à¦°à§à¦ªà§‡ Jumma Mubarak à¦¶à§à¦­à§‡à¦šà§à¦›à¦¾ à¦ªà¦¾à¦ à¦¾à¦¬à§‡ à¦¬à¦¡à¦¼ à¦•à§à¦¯à¦¾à¦ªà¦¶à¦¨à¦¸à¦¹"
};

// à¦¬à¦¡à¦¼ Jumma Mubarak à¦•à§à¦¯à¦¾à¦ªà¦¶à¦¨
const messages = [
  `ğŸ•ŒğŸŒ¸ à¦œà§à¦®à§à¦®à¦¾ à¦®à§‹à¦¬à¦¾à¦°à¦• ğŸŒ¸ğŸ•Œ

à¦†à¦œà¦•à§‡à¦° à¦à¦‡ à¦ªà¦¬à¦¿à¦¤à§à¦° à¦¦à¦¿à¦¨à§‡ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦°à¦¹à¦®à¦¤, à¦¬à¦°à¦•à¦¤ à¦“ à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦¸à¦¬à¦¾à¦° à¦œà§€à¦¬à¦¨à§‡ à¦ªà§à¦°à¦¬à¦¾à¦¹à¦¿à¦¤ à¦¹à§‹à¦•à¥¤  
à¦¨à¦¾à¦®à¦¾à¦œà§‡à¦° à¦—à§à¦°à§à¦¤à§à¦¬ à¦­à§à¦²à§‡ à¦¯à§‡à¦“ à¦¨à¦¾, à¦¦à§‹à¦¯à¦¼à¦¾ à¦•à¦°à§‹ à¦¨à¦¿à¦œà§‡à¦° à¦œà¦¨à§à¦¯ à¦à¦¬à¦‚ à¦ªà¦°à¦¿à¦¬à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯à¥¤  
à¦†à¦²à§à¦²à¦¾à¦¹ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦•à¦² à¦—à§à¦¨à¦¾à¦¹ à¦®à¦¾à¦« à¦•à¦°à§à¦¨, à¦¹à§ƒà¦¦à¦¯à¦¼à¦•à§‡ à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦¦à¦¾à¦¨ à¦•à¦°à§à¦¨ à¦à¦¬à¦‚ à¦œà§€à¦¬à¦¨à¦•à§‡ à¦¸à§à¦¨à§à¦¦à¦° à¦•à¦°à§‡ à¦¤à§à¦²à§à¦¨à¥¤  

ğŸŒ™ à¦†à¦œà¦•à§‡à¦° à¦¦à¦¿à¦¨à¦Ÿà¦¿ à¦¹à§‹à¦• à¦¸à§à¦®à¦°à¦£à§€à¦¯à¦¼, à¦…à¦¨à§à¦¯à¦¦à§‡à¦° à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à¦¾à¦° à¦¦à¦¿à¦¨, à¦à¦¬à¦‚ à¦­à¦¾à¦²à§‹ à¦•à¦¾à¦œ à¦•à¦°à¦¾à¦° à¦…à¦¨à§à¦ªà§à¦°à§‡à¦°à¦£à¦¾à¥¤  
à¦¬à¦¨à§à¦§à§à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦­à¦¾à¦— à¦•à¦°à§‡ à¦¨à¦¾à¦“ à¦à¦‡ à¦†à¦¨à¦¨à§à¦¦, à¦•à¦¾à¦°à¦£ à¦œà§à¦®à§à¦®à¦¾à¦° à¦¦à¦¿à¦¨ à¦†à¦²à§à¦²à¦¾à¦¹ à¦–à§à¦¬ à¦–à§à¦¶à¦¿ à¦¹à¦¨à¥¤  

ğŸ’› Jumma Mubarak! à¦¸à¦¬à¦¾à¦‡à¦•à§‡ à¦†à¦²à§à¦²à¦¾à¦¹à¦° à¦•à§ƒà¦ªà¦¾ à¦“ à¦†à¦¶à§€à¦°à§à¦¬à¦¾à¦¦ à¦²à¦¾à¦­ à¦¹à§‹à¦•à¥¤ ğŸ¤²`
];

module.exports.onLoad = function ({ api }) {
  // à¦ªà§à¦°à¦¤à¦¿ à¦¶à§à¦•à§à¦°à¦¬à¦¾à¦° à¦¸à¦•à¦¾à¦² à§®à¦Ÿà¦¾à§Ÿ à¦®à§‡à¦¸à§‡à¦œ à¦ªà¦¾à¦ à¦¾à¦¬à§‡
  cron.schedule("0 8 * * 5", () => {
    const randomMsg = messages[Math.floor(Math.random() * messages.length)];

    // à¦¸à¦•à¦² à¦—à§à¦°à§à¦ªà§‡ à¦ªà¦¾à¦ à¦¾à¦¨à§‹
    for (const threadID of global.data.allThreadID) {
      api.sendMessage(randomMsg, threadID);
    }
  }, { timezone: "Asia/Dhaka" });
};
